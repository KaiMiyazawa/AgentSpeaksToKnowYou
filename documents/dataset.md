# 性格診断に用いるデータの収集方法を理解する

1. [音声会話システムの構成要素を理解する](./audio_chat.md)
1. 性格診断に用いるデータの収集方法を理解する
1. [特徴量抽出と機械学習による性格推定を理解する](./prediction.md)
1. [システム全体の構成方法を理解する](./system.md)
1. [実際のコードはこちら](https://github.com/KaiMiyazawa/AgentSpeaksToKnowYou/blob/main/gui_audio_chat.py)

今回のプログラムで用いられた性格診断には、いくつかのデータが用いられています。具体的には、テキストや音声による性格因子や音声の特徴因子の予測に用いられた機械学習モデルの学習と、それら因子と出力となる文豪の文章の関係性を事前に用意するために利用されています。

## FDC (Freshman Dialogue Corpus)
FDCは、大学の新入生が行った日常対話コーパスです。2人の大学生が対話している音声のデータです。収録された年度にもよりますが、概ねのデータは2チャンネルあり、左右が2人それぞれの話者の音声に対応しています。また、データ形式はwavファイルです。また、このコーパスには、2人の人が会って間もない時期と、会ってから数ヶ月経った後の２回の日常対話が収録されています。

今回は、このデータセットに対して、以下の条件に合うものを抽出し、また後述の方法によって印象評価を行いました。

データの条件：
- 2人の対話のうち、会ってから間もない時期のデータ
- 2チャンネルのデータ(2人の話者の音声がそれぞれ左右に分かれて収録されているデータ)は、左右に分解した後のデータ

印象評価の詳細：
- データの条件に合うものに対して印象評価を実施
- [山住らの研究](https://www.jstage.jst.go.jp/article/jasj/61/6/61_KJ00003301328/_pdf#page=1.00)に基づいて、音声の印象因子に沿った質問項目を作成
- 上記の質問項目に対して、2段階評価を行い、その結果を集計
- 具体的な質問項目は以下に示す

| 音声の印象因子 | 質問項目 (どちらか当てはまるものを選択してください) |
| -------------- | --------------------------------------------------- |
| 好悪           | 好きな(1)、嫌いな(0)                                |
| 好悪           | 心地よい(1)、不快な(0)                              |
| 好悪           | 感じの良い(1)、感じの悪い(0)                        |
| 上手さ         | なめらかな(1)、しどろもどろな(0)                    |
| 上手さ         | 流暢な(1)、たどたどしい(0)                          |
| 上手さ         | 話し慣れた(1)、話し慣れてない(0)                    |
| 活動性         | 声が大きい(1)、声が小さい(0)                        |
| 活動性         | 元気がある(1)、元気がない(0)                        |
| 活動性         | 力強い(1)、弱々しい(0)                              |
| 速さ感         | 速い(1)、遅い(0)                                    |
| 速さ感         | せわしげな(1)、呑気な(0)                            |
| 速さ感         | スピード感のある(1)、ゆったりとした(0)              |
| スタイル       | 礼儀正しい(1)、無礼な(0)                            |
| スタイル       | 真面目な(1)、不真面目な(0)                          |
| スタイル       | 丁寧な(1)、ぞんざいな(0)                            |

## RealPersonaChat
[RealPersonaChat](https://github.com/nu-dialogue/real-persona-chat)は、話者本人のペルソナと性格特性を含む，約14,000件の日本語雑談対話からなるコーパスです．元のデータは主にjson形式で、2人の話者のテキストベースの会話の記録が含まれています。話者にはユニークなインデックスが割り当てられており、別データに、その話者の性別、年齢、職業、性格特性などの情報が含まれています。

今回は、これらのデータを以下のように加工しました。

データの加工：
- 2人の日常対話のデータを、1人の話者のデータに分解
- 上記のデータに対して、別ファイルに含まれる性格特性の情報(性別やBIG5など)を付与

## アンケート質問調査

今回は、感性班やHAI班、スキルトレーニング班などに所属する学生の学習につながるよう、アンケート質問調査にも取り組んでみました。
具体的には、文豪の文章について、音声の因子とアンケート回答者のBIG5の簡易計測に関係する質問を作成し、回答を集めました。
また、アンケートの結果を処理する流れや、テキストデータによって予測されたBIG5の値とアンケートの結果との結びつけ方については、[同期くんが作ってくれたmemo](./douki_memo.md)を参照してください。

アンケートの質問内容：
- 簡易的にBIG5を計測できる10項目、7段階評価の質問項目
- [40個の文豪の文章](str.csv)について、6質問、4段階評価の質問項目
	- 感じが良い
	- 上手い
	- 明るい
	- 疾走感がある
	- かしこまっている
	- 共感する

next: [特徴量抽出と機械学習による性格推定を理解する](./prediction.md)
